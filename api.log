2026-01-19 17:44:15.382 | INFO     | app.app_logging:<module>:11 - API startuje…
2026-01-19 17:44:15.382 | WARNING  | app.app_logging:<module>:12 - Ostrzeżenie!
2026-01-19 17:44:15.382 | ERROR    | app.app_logging:<module>:13 - Błąd!
2026-01-19 17:44:15.382 | CRITICAL | app.app_logging:<module>:14 - Krytyczny problem!
2026-01-19 17:44:17.924 | INFO     | app.main:ask:28 - here
2026-01-19 17:51:09.037 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-19 17:51:11.597 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-19 17:51:11.774 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-19 17:53:00.734 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-19 17:53:02.656 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-19 17:53:02.825 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-19 17:53:02.837 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:53:02.837 | ERROR    | app.main:ask:71 - Exception
2026-01-19 17:53:07.886 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:53:07.887 | ERROR    | app.main:ask:71 - Exception
2026-01-19 17:53:08.827 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:53:08.828 | ERROR    | app.main:ask:71 - Exception
2026-01-19 17:53:35.795 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:53:35.795 | ERROR    | app.main:ask:71 - Exception
2026-01-19 17:55:56.715 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-19 17:55:58.643 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-19 17:55:58.922 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-19 17:56:05.965 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:56:05.965 | ERROR    | app.main:ask:71 - can only concatenate str (not "int") to str
2026-01-19 17:56:07.562 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:56:07.564 | ERROR    | app.main:ask:71 - can only concatenate str (not "int") to str
2026-01-19 17:56:15.810 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:56:15.811 | ERROR    | app.main:ask:71 - can only concatenate str (not "int") to str
2026-01-19 17:57:39.433 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:57:39.434 | ERROR    | app.main:ask:71 - can only concatenate str (not "int") to str
2026-01-19 17:59:19.294 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-19 17:59:21.321 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-19 17:59:21.483 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-19 17:59:33.274 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-19 17:59:35.236 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-19 17:59:35.504 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-19 17:59:35.518 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 17:59:35.518 | WARNING  | app.llm_runner:run_with_retry_chat:52 - CALLED run_with_retry_chat 0 time
2026-01-19 17:59:35.546 | INFO     | app.llm_runner:chat_once:99 - CALLED API MODE
2026-01-19 18:00:26.090 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 18:00:26.091 | ERROR    | app.guardrails:guard_input:30 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-19 18:00:26.092 | ERROR    | app.main:ask:53 - HTTPException
2026-01-19 18:00:51.937 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 18:00:51.938 | WARNING  | app.llm_runner:run_with_retry_chat:52 - CALLED run_with_retry_chat 0 time
2026-01-19 18:00:51.951 | INFO     | app.llm_runner:chat_once:99 - CALLED API MODE
2026-01-19 18:00:57.849 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 18:00:57.849 | WARNING  | app.llm_runner:run_with_retry_chat:52 - CALLED run_with_retry_chat 0 time
2026-01-19 18:00:57.860 | INFO     | app.llm_runner:chat_once:99 - CALLED API MODE
2026-01-19 18:01:07.064 | INFO     | app.main:ask:28 - Endpoint ask called
2026-01-19 18:01:07.064 | WARNING  | app.llm_runner:run_with_retry_chat:52 - CALLED run_with_retry_chat 0 time
2026-01-19 18:01:07.080 | INFO     | app.llm_runner:chat_once:99 - CALLED API MODE
2026-01-21 17:16:40.187 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:17:27.827 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:17:28.126 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:20:28.479 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:20:32.372 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:20:32.540 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:46:38.164 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:46:40.106 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:46:40.327 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:46:46.837 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:46:48.727 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:46:48.911 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:47:09.173 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:47:11.034 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:47:11.212 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:49:16.111 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:49:19.367 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:49:19.570 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:49:54.018 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:49:58.684 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:49:58.892 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:50:12.932 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:50:16.911 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:50:17.091 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:50:25.743 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:50:29.507 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:50:29.682 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:57:27.233 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:57:29.554 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:57:29.724 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:59:20.879 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:59:24.448 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:59:24.667 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 17:59:33.386 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 17:59:37.253 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 17:59:37.429 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:04:03.449 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:04:05.481 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:04:05.671 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:04:20.620 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:04:24.072 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:04:24.308 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:04:31.990 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:04:34.825 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:04:35.052 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:05:26.710 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:05:28.940 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:05:29.134 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:07:19.144 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:07:23.171 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:07:23.346 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:08:43.377 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:08:46.390 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:08:46.571 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:09:20.651 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:09:24.930 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:09:25.136 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:10:42.778 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:10:45.925 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:10:46.154 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:10:54.715 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:10:57.502 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:10:57.724 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:11:06.018 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:11:09.893 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:11:10.069 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:11:18.745 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:11:22.319 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:11:22.487 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:13:24.607 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:13:28.399 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:13:28.628 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:16:00.834 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:16:05.217 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:16:05.423 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:16:41.178 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:16:44.637 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:16:44.831 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:17:02.121 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:17:05.634 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:17:05.832 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:18:30.443 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:18:34.925 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:18:35.105 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:18:56.269 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:19:00.319 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:19:00.497 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:19:16.521 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:19:20.492 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:19:20.662 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:19:34.240 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:19:38.320 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:19:38.500 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:20:36.010 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:20:39.243 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:20:39.423 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:21:31.021 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:21:33.449 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:21:33.633 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:22:14.632 | INFO     | app.llm_runner:<module>:21 - INITIALIZED CLIENT
2026-01-21 18:22:18.242 | INFO     | app.llm_runner:<module>:37 - INITIALIZED RAG
2026-01-21 18:22:18.453 | INFO     | app.llm_runner:<module>:44 - LOADED RAG CSV
2026-01-21 18:22:28.040 | INFO     | app.llm_runner:<module>:21 - INITIALIZED CLIENT
2026-01-21 18:22:31.293 | INFO     | app.llm_runner:<module>:37 - INITIALIZED RAG
2026-01-21 18:22:31.476 | INFO     | app.llm_runner:<module>:44 - LOADED RAG CSV
2026-01-21 18:23:16.969 | INFO     | app.llm_runner:<module>:21 - INITIALIZED CLIENT
2026-01-21 18:23:21.643 | INFO     | app.llm_runner:<module>:37 - INITIALIZED RAG
2026-01-21 18:23:21.826 | INFO     | app.llm_runner:<module>:44 - LOADED RAG CSV
2026-01-21 18:25:22.917 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:25:26.681 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:25:26.860 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:25:53.322 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:25:57.803 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:25:57.973 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:26:42.680 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:26:46.649 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:26:46.819 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:29:45.874 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:29:49.434 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:29:49.601 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:31:24.285 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:31:28.250 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:31:28.440 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:32:00.939 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:32:03.720 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:32:03.942 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:32:14.459 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:32:18.121 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:32:18.291 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:32:51.923 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:32:53.868 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:32:54.042 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:35:51.449 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:35:54.697 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:35:54.897 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:36:03.363 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:36:06.374 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:36:06.553 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:36:15.855 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:36:20.091 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:36:20.289 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:36:48.146 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:36:52.145 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:36:52.351 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:37:15.721 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:37:19.894 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:37:20.097 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:39:58.333 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:40:01.380 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:40:01.567 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:42:47.037 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:42:48.858 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:42:49.026 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:43:28.460 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:43:32.346 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:43:32.539 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:44:28.672 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:44:32.293 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:44:32.464 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:44:54.127 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:44:56.259 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:44:56.429 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:45:59.296 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:46:03.065 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:46:03.254 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:46:19.524 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:46:21.819 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:46:22.025 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 18:57:36.086 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 18:57:38.853 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 18:57:39.067 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 20:17:28.875 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 20:17:30.958 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 20:17:31.266 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 20:30:47.741 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 20:30:51.598 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 20:30:51.934 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 20:43:53.905 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 20:43:58.443 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 20:43:58.827 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 20:48:36.003 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 20:48:39.841 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 20:48:40.244 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 20:55:50.678 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 20:55:54.732 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 20:55:55.061 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:04:47.157 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:04:51.208 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:04:51.547 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:11:52.528 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:11:55.967 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:11:56.255 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:15:51.958 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:15:54.710 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:15:55.073 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:18:05.861 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:18:08.705 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:18:08.986 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:25:17.294 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:25:21.758 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:25:22.062 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:26:34.696 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:26:38.763 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:26:39.060 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:28:11.685 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:28:16.043 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:28:16.367 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:28:29.107 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:28:33.354 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:28:33.674 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:29:13.957 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:29:18.507 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:29:18.833 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:30:41.599 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:30:45.336 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:30:45.705 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:30:58.599 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:31:02.855 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:31:03.199 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:43:30.711 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:43:33.451 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:43:33.879 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:44:59.427 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:45:03.051 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:45:03.335 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:45:27.376 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:45:31.007 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:45:31.361 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 21:55:27.022 | INFO     | app.llm_runner:<module>:19 - INITIALIZED CLIENT
2026-01-21 21:55:31.794 | INFO     | app.llm_runner:<module>:35 - INITIALIZED RAG
2026-01-21 21:55:32.172 | INFO     | app.llm_runner:<module>:42 - LOADED RAG CSV
2026-01-21 22:03:31.531 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:03:36.249 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:03:36.552 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:06:08.769 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:06:13.230 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:06:13.543 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:08:39.376 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:08:43.657 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:08:43.965 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:08:58.384 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:09:01.330 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:09:01.628 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:09:36.137 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:09:40.182 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:09:40.484 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:14:55.108 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:14:59.469 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:14:59.792 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:17:23.282 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:17:27.471 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:17:27.797 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:23:47.796 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:23:51.774 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:23:52.183 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:24:03.408 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:24:06.002 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:24:06.402 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:31:33.106 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:31:36.854 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:31:37.160 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:33:29.231 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:33:33.698 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:33:34.013 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:34:23.321 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:34:26.703 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:34:27.000 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-21 22:35:57.947 | INFO     | app.main:ask:32 - Endpoint ask called
2026-01-21 22:35:57.949 | WARNING  | app.llm_runner:run_with_retry_chat:50 - CALLED run_with_retry_chat 0 time
2026-01-21 22:35:57.971 | INFO     | app.llm_runner:chat_once:97 - CALLED API MODE
2026-01-21 22:36:20.293 | INFO     | app.main:ask:32 - Endpoint ask called
2026-01-21 22:36:20.294 | WARNING  | app.llm_runner:run_with_retry_chat:50 - CALLED run_with_retry_chat 0 time
2026-01-21 22:36:20.323 | INFO     | app.llm_runner:chat_once:97 - CALLED API MODE
2026-01-21 22:37:04.664 | INFO     | app.main:ask:32 - Endpoint ask called
2026-01-21 22:37:04.664 | INFO     | app.main:ask:36 - Processing image: gardlo.jpeg
2026-01-21 22:37:04.665 | WARNING  | app.llm_runner:run_with_retry_chat:50 - CALLED run_with_retry_chat 0 time
2026-01-21 22:37:04.689 | INFO     | app.llm_runner:chat_once:97 - CALLED API MODE
2026-01-21 22:37:04.689 | INFO     | app.llm_runner:chat_once:108 - ATTACHING IMAGE TO LLM REQUEST
2026-01-21 22:49:01.956 | INFO     | app.llm_runner:<module>:20 - INITIALIZED CLIENT
2026-01-21 22:49:05.745 | INFO     | app.llm_runner:<module>:36 - INITIALIZED RAG
2026-01-21 22:49:06.165 | INFO     | app.llm_runner:<module>:43 - LOADED RAG CSV
2026-01-22 14:35:24.097 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 14:35:27.442 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 14:35:27.744 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-22 14:44:02.540 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 14:44:06.256 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 14:44:06.437 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-22 14:47:23.359 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 14:47:26.741 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 14:47:26.920 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-22 14:47:26.933 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:50:09.243 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 14:50:12.728 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 14:50:12.915 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-22 14:50:12.929 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:50:13.085 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:50:13.086 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 14:52:35.246 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 14:52:38.430 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 14:52:38.631 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-22 14:52:38.644 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:52:38.799 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:52:38.799 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 14:52:38.803 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:52:38.803 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 14:52:38.803 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 14:53:48.707 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 14:53:51.854 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 14:53:52.031 | INFO     | app.llm_runner:<module>:45 - LOADED RAG CSV
2026-01-22 14:53:52.045 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:53:52.201 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:53:52.201 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 14:53:52.204 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 14:53:52.204 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 14:53:52.204 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:15:14.675 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 16:15:20.158 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 16:15:24.137 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 16:15:24.347 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:15:24.353 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:15:24.354 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:15:24.359 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:15:24.359 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 16:15:24.359 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:32:40.181 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 16:32:44.576 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 16:32:48.605 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 16:34:18.180 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 16:34:22.745 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 16:34:26.669 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 16:34:26.678 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:34:26.680 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:34:26.703 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:34:27.270 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:34:27.295 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:34:27.761 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "The patient has a severe headache and fever for 2 days.",\n      "reported_symptoms": [\n        "headache",\n        "fever"\n      ],\n      "duration": "2 days",\n      "ai_diagnosis_suggestion": "Influenza or COVID-19",\n      "recommended_specialization": [\n        "Infectious Disease Specialist",\n        "Primary Care Physician"\n      ],\n      "confidence_score": 0.6\n    }\n  }\n]'}}
2026-01-22 16:34:27.766 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:34:27.766 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:34:27.787 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:34:28.070 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:34:28.072 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:34:28.478 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "question",\n    "message_to_patient": "Can you describe the stomach pain in more detail? Is it a sharp pain, a dull ache, or a burning sensation?",\n    "report_data": null\n  }\n]'}}
2026-01-22 16:34:28.483 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:34:28.483 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:34:28.487 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:34:28.487 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 16:34:28.487 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:34:28.492 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:34:28.492 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:34:28.513 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:34:28.790 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:34:28.791 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:34:29.502 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "Alzheimer\'s disease is a progressive neurodegenerative disorder characterized by symptoms such as memory loss, confusion, and mood changes. Cognitive tests and biomarkers used for diagnosis include the Mini-Mental State Examination (MMSE) and neuroimaging techniques like Magnetic Resonance Imaging (MRI) and Positron Emission Tomography (PET).",\n      "reported_symptoms": [\n        "memory loss",\n        "confusion",\n        "mood changes"\n      ],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "Alzheimer\'s disease",\n      "recommended_specialization": [\n        "Neurologist"\n      ],\n      "confidence_score": 0.8\n    }\n  }\n]'}}
2026-01-22 16:34:29.506 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:34:29.507 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:34:29.525 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:34:30.013 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "A bulging tympanic membrane is a symptom commonly associated with Acute Otitis Media, an infection of the middle ear.",\n      "reported_symptoms": ["bulging tympanic membrane"],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "Acute Otitis Media",\n      "recommended_specialization": ["Otolaryngologist"],\n      "confidence_score": 0.9\n    }\n  }\n]'}}
2026-01-22 16:35:30.579 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 16:35:34.632 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 16:35:38.642 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 16:35:42.320 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:35:42.321 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:35:42.341 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:35:43.048 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:35:43.070 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:35:43.846 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "The patient has been experiencing a severe headache and fever for 2 days.",\n      "reported_symptoms": [\n        "headache",\n        "fever"\n      ],\n      "duration": "2 days",\n      "ai_diagnosis_suggestion": "Influenza or COVID-19",\n      "recommended_specialization": [\n        "Infectious Disease Specialist",\n        "Primary Care Physician"\n      ],\n      "confidence_score": 0.6\n    }\n  }\n]'}}
2026-01-22 16:35:43.852 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:35:43.852 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:35:43.882 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:35:44.465 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:35:44.466 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:35:44.873 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "question",\n    "message_to_patient": "Can you describe the stomach pain in more detail? Is it a sharp pain, a dull ache, or a burning sensation?",\n    "report_data": null\n  }\n]'}}
2026-01-22 16:35:44.877 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:35:44.878 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:35:44.881 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:35:44.882 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 16:35:44.882 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:35:44.885 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:35:44.886 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:35:44.909 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:35:45.586 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:35:45.588 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:35:46.712 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "Alzheimer\'s disease is a progressive neurodegenerative disorder characterized by symptoms such as memory loss, confusion, and mood changes. Cognitive tests and biomarkers used for diagnosis include the Mini-Mental State Examination (MMSE) and neuroimaging techniques like Magnetic Resonance Imaging (MRI) and Positron Emission Tomography (PET).",\n      "reported_symptoms": [\n        "memory loss",\n        "confusion",\n        "mood changes"\n      ],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "Alzheimer\'s disease",\n      "recommended_specialization": [\n        "Neurologist"\n      ],\n      "confidence_score": 0.8\n    }\n  }\n]'}}
2026-01-22 16:35:46.716 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:35:46.717 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:35:46.738 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:35:47.269 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:35:47.271 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:35:48.044 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "Based on the symptom of a bulging tympanic membrane, the likely diagnosis is Acute Otitis Media, an infection of the middle ear.",\n      "reported_symptoms": [\n        "bulging tympanic membrane"\n      ],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "Acute Otitis Media",\n      "recommended_specialization": [\n        "Otolaryngologist"\n      ],\n      "confidence_score": 0.9\n    }\n  }\n]'}}
2026-01-22 16:43:27.891 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 16:43:30.535 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 16:43:34.356 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 16:43:49.976 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:43:49.977 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:43:49.997 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:43:50.934 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:43:50.954 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:43:51.834 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "The patient has been experiencing a severe headache and fever for 2 days.",\n      "reported_symptoms": [\n        "headache",\n        "fever"\n      ],\n      "duration": "2 days",\n      "ai_diagnosis_suggestion": "Influenza or COVID-19",\n      "recommended_specialization": [\n        "Infectious Disease Specialist",\n        "Primary Care Physician"\n      ],\n      "confidence_score": 0.6\n    }\n  }\n]'}}
2026-01-22 16:43:51.839 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:43:51.840 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:43:51.858 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:43:52.140 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "question",\n    "message_to_patient": "Can you describe the pain in your stomach after eating? Is it a sharp pain, a dull ache, or a burning sensation?",\n    "report_data": null\n  }\n]'}}
2026-01-22 16:43:52.145 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:43:52.145 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:43:52.149 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:43:52.149 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 16:43:52.149 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:43:52.153 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:43:52.153 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:43:52.172 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:43:52.448 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:43:52.449 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:43:53.243 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "Alzheimer\'s disease is a progressive neurodegenerative disorder characterized by symptoms such as memory loss, confusion, and mood changes. Cognitive tests and biomarkers play a crucial role in its diagnosis.",\n      "reported_symptoms": [],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "The patient\'s inquiry suggests a focus on Alzheimer\'s disease diagnosis methods.",\n      "recommended_specialization": [\n        "Neurologist"\n      ],\n      "confidence_score": 1.0\n    }\n  }\n]'}}
2026-01-22 16:43:53.247 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:43:53.247 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:43:53.266 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:43:53.677 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:43:53.678 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:43:54.291 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "The patient\'s concern is a bulging tympanic membrane, which is a symptom commonly associated with Acute Otitis Media, an infection of the middle ear.",\n      "reported_symptoms": [\n        "bulging tympanic membrane"\n      ],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "Acute Otitis Media",\n      "recommended_specialization": [\n        "Otolaryngologist"\n      ],\n      "confidence_score": 0.9\n    }\n  }\n]'}}
2026-01-22 16:49:41.422 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 16:49:45.481 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 16:49:49.363 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 16:49:57.707 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:49:57.709 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:49:57.732 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:49:58.608 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:49:58.633 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:49:59.002 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "question",\n    "message_to_patient": "Can you tell me more about your headache? Is it localized to one side of your head or is it a general headache?",\n    "report_data": null\n  }\n]'}}
2026-01-22 16:49:59.007 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:49:59.007 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:49:59.032 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:49:59.404 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "question",\n    "message_to_patient": "Can you describe the pain in your stomach after eating? Is it a sharp pain, a dull ache, or a burning sensation?",\n    "report_data": null\n  }\n]'}}
2026-01-22 16:49:59.409 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:49:59.409 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:49:59.413 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:49:59.413 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 16:49:59.414 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 16:49:59.418 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:49:59.418 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:49:59.441 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:50:00.020 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:50:00.021 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:50:01.042 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "The patient is inquiring about cognitive tests and biomarkers used for Alzheimer\'s diagnosis.",\n      "reported_symptoms": [],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "The patient\'s inquiry suggests a concern about Alzheimer\'s disease or a desire for information about its diagnosis.",\n      "recommended_specialization": [\n        "Neurologist"\n      ],\n      "confidence_score": 0.0\n    }\n  }\n]'}}
2026-01-22 16:50:01.046 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 16:50:01.047 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 16:50:01.068 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 16:50:01.453 | INFO     | app.llm_runner:chat_once:148 - USED FUNCTION CALL
2026-01-22 16:50:01.455 | INFO     | app.llm_runner:chat_once:180 - TOOL EXECUTED. FEEDING RESULT BACK TO LLM...
2026-01-22 16:50:02.274 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "final_report",\n    "message_to_patient": null,\n    "report_data": {\n      "summary": "A bulging tympanic membrane is a symptom commonly associated with Acute Otitis Media, an infection of the middle ear.",\n      "reported_symptoms": [\n        "bulging tympanic membrane"\n      ],\n      "duration": "Not specified",\n      "ai_diagnosis_suggestion": "Acute Otitis Media",\n      "recommended_specialization": [\n        "Otolaryngologist"\n      ],\n      "confidence_score": 0.9\n    }\n  }\n]'}}
2026-01-22 17:02:39.057 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 17:02:43.271 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 17:02:47.138 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 17:02:56.518 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 17:02:56.519 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 17:02:56.542 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 17:02:57.141 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "message",\n    "message_to_patient": "Can you tell me more about your headache? Is it localized to one side of your head or is it a general headache?",\n    "report_data": null\n  }\n]'}}
2026-01-22 17:02:57.145 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 17:02:57.146 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 17:02:57.167 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 17:02:57.445 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "message",\n    "message_to_patient": "Can you describe the pain in more detail? Is it a sharp pain, a dull ache, or a burning sensation?",\n    "report_data": null\n  }\n]'}}
2026-01-22 17:02:57.450 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 17:02:57.450 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 17:02:57.454 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 17:02:57.454 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 17:02:57.454 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 17:02:57.458 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 17:02:57.458 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 17:02:57.481 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 17:02:57.856 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "tool call validation failed: attempted to call tool 'message' which was not in request.tools", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "name": "message",\n    "parameters": {\n      "message_to_patient": "For an Alzheimer\'s diagnosis, cognitive tests like the Mini-Mental State Examination (MMSE) and neuroimaging such as MRI or PET scans are commonly used. Biomarkers like amyloid-beta and tau protein levels in cerebrospinal fluid can also support the diagnosis."\n    }\n  }\n]'}}
2026-01-22 17:02:57.860 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 17:02:57.860 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 0 time
2026-01-22 17:02:57.883 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 17:02:58.368 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "message",\n    "message_to_patient": "A bulging tympanic membrane is often related to an ear infection. I recommend you see an Otolaryngologist (ENT specialist) for a proper evaluation and treatment.",\n    "report_data": null\n  }\n]'}}
2026-01-22 18:33:25.226 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:33:29.499 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:33:33.481 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:34:17.763 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:34:20.672 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:34:24.520 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:34:30.246 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 18:34:30.247 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 18:34:30.267 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 18:34:30.267 | INFO     | app.llm_runner:chat_once:113 - 1
2026-01-22 18:34:30.267 | INFO     | app.llm_runner:chat_once:119 - 2
2026-01-22 18:34:30.267 | INFO     | app.llm_runner:chat_once:136 - 2
2026-01-22 18:34:30.912 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "message",\n    "message_to_patient": "Can you please describe the severity of your headache and provide more details about your fever (e.g., temperature, chills)?",\n    "report_data": null\n  }\n]'}}
2026-01-22 18:35:39.150 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:35:42.197 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:35:46.667 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:36:26.346 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:36:29.484 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:36:34.154 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:39:41.751 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:39:44.369 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:39:48.916 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:44:27.867 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:44:33.253 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:44:37.385 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:45:45.284 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:45:49.644 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:45:53.564 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:47:24.237 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:47:29.279 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:47:32.998 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:52:49.101 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:52:52.795 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:52:56.651 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:53:10.675 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:53:14.091 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:53:17.548 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:53:32.081 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:53:34.753 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:53:38.599 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:57:01.328 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:57:06.379 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:57:11.128 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:58:29.638 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:58:34.272 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:58:37.889 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:58:49.472 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:58:54.138 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:58:58.292 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 18:59:09.224 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 18:59:13.287 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 18:59:17.586 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 19:00:27.263 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 19:00:33.365 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 19:00:37.299 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 19:00:54.195 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 19:00:58.557 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 19:01:02.810 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 19:01:39.353 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 19:01:44.021 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 19:01:48.622 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 19:03:21.446 | INFO     | app.llm_runner:<module>:22 - INITIALIZED CLIENT
2026-01-22 19:03:25.853 | INFO     | app.llm_runner:<module>:38 - INITIALIZED RAG
2026-01-22 19:03:29.272 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 19:03:34.607 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 19:03:34.608 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 19:03:34.632 | INFO     | app.llm_runner:chat_once:107 - CALLED API MODE
2026-01-22 19:03:35.534 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "message",\n    "message_to_patient": "Can you tell me more about your headache? Is it localized to one side of your head or is it a general headache?",\n    "report_data": null\n  }\n]'}}
2026-01-22 19:13:18.060 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 19:13:22.495 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 19:13:26.400 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 19:13:34.143 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 19:13:34.144 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 19:13:34.164 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 19:13:35.397 | WARNING  | app.llm_runner:chat_once:150 - Groq rejected JSON. Attempting recovery from failed_generation...
2026-01-22 19:13:35.398 | ERROR    | app.llm_runner:parse_and_finalize:251 - JSON Error in fallback
2026-01-22 19:17:37.825 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 19:17:41.979 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 19:17:46.114 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 19:17:46.126 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 19:17:46.128 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 19:17:46.145 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 19:17:46.686 | WARNING  | app.llm_runner:chat_once:150 - Groq rejected JSON. Attempting recovery from failed_generation...
2026-01-22 19:17:46.687 | ERROR    | app.llm_runner:parse_and_finalize:251 - JSON Error in fallback
2026-01-22 19:18:19.089 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 19:18:23.552 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 19:18:27.415 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 19:18:30.256 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 19:18:30.257 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 19:18:30.280 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 19:18:30.925 | WARNING  | app.llm_runner:chat_once:150 - Groq rejected JSON. Attempting recovery from failed_generation...
2026-01-22 19:20:11.240 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 19:20:17.422 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 19:20:21.305 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 19:20:24.333 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 19:20:24.334 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 19:20:24.358 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 19:20:24.896 | WARNING  | app.llm_runner:chat_once:150 - Groq rejected JSON. Attempting recovery from failed_generation...
2026-01-22 19:20:24.897 | ERROR    | app.llm_runner:parse_and_finalize:251 - JSON Error in fallback
2026-01-22 19:23:58.135 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 19:24:02.293 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 19:24:06.101 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 19:24:09.814 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 19:24:09.815 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 19:24:09.837 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 19:24:10.270 | ERROR    | app.main:ask:105 - Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '[\n  {\n    "action": "message",\n    "message_to_patient": "Can you tell me more about your headache? Is it localized to one side of your head or is it a general headache?",\n    "report_data": null\n  }\n]'}}
2026-01-22 20:18:55.329 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:19:00.014 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:19:02.479 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:19:06.418 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:19:06.419 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:19:06.431 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:19:06.561 | ERROR    | app.llm_runner:chat_once:149 - API Error: Error code: 400 - {'error': {'message': 'invalid JSON schema for tool provide_response, tools[1].function.parameters: jsonschema file:///home/di/params.json compilation failed: file:///home/di/params.json#/$defs/MedicalReport not found', 'type': 'invalid_request_error', 'param': 'tool provide_response, tools[1].function.parameters'}}
2026-01-22 20:19:06.561 | ERROR    | app.main:ask:101 - ToolError
2026-01-22 20:27:03.267 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:27:06.719 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:27:09.156 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:27:11.788 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:27:11.789 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:27:11.800 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:27:11.801 | INFO     | app.llm_runner:chat_once:130 - [{'role': 'system', 'content': '\nYou are an expert AI Medical Assistant.\nYour goal is to gather enough information to generate a preliminary diagnosis report.\n\nLOGIC:\n1. Analyze the patient\'s input.\n2. If the description is vague (e.g., just "my leg hurts"), DO NOT GUESS.\n3. Instead, ASK follow-up questions (e.g., "Is it swollen?", "Did you injure it?", "Please upload a photo").\n4. ONLY when you have sufficient details (symptoms, duration, visual confirmation if needed), generate the final report.\n\nINSTRUCTIONS FOR IMAGE ANALYSIS (if image is present):\n- Look for visual signs such as: redness, swelling, rashes, discoloration, wounds, or structural abnormalities.\n- Correlate visual findings with the text description.\n\nCRITICAL INSTRUCTION:\nYou are NOT allowed to output normal text.\nYou MUST use the `provide_response` tool to send your output to the user.\n- To ask a question: Call `provide_response` with action="message".\n- To give a diagnosis: Call `provide_response` with action="final_report".\n\nCONSTRAINTS:\n- If the image is unclear or irrelevant, mention this in the "ai_diagnosis_suggestion".\n- If symptoms are insufficient, set a low "confidence_score" (e.g., 0.2).\n'}, {'role': 'user', 'content': [{'type': 'text', 'text': 'RAG Context:\n[Source: medical_rag_pubmed.csv] Influenza: symptoms include fever, muscle aches, fatigue.\n\n[Source: medical_rag_pubmed.csv] COVID-19: symptoms include fever, cough, loss of taste.\n\n[Source: medical_rag_pubmed.csv] Sinusitis: symptoms include facial pain, nasal congestion, headache.\n\n[Source: medical_rag_enriched.csv] Description of the disease: Meningitis: Inflammation of the protective membranes covering the brain and spinal cord. Can be viral, bacterial, or fungal. Symptoms include sudden high fever, stiff neck, and severe headache. Diagnosis is via Lumbar Puncture (spinal tap) to analyze CSF. Treatment depends on cause; bacterial meningitis is a medical emergency requiring intravenous antibiotics and corticosteroids.\nRecommended specialist: Neurologist.\n\n[Source: medical_rag_enriched.csv] Description of the disease: Acute Sinusitis: Inflammation or swelling of the tissue lining the sinuses. Often caused by the common cold (viral) or bacterial infection. Symptoms include thick yellow/green nasal discharge, nasal congestion, pain/tenderness around eyes and cheeks, and headache. Diagnosis is clinical; CT scans are used for chronic cases. Treatment involves saline irrigation, nasal corticosteroids, and antibiotics if symptoms persist beyond 10 days.\nRecommended specialist: Otolaryngologist.\n\nPatient Description:\nI have had a severe headache and fever for 2 days.'}]}]
2026-01-22 20:27:12.043 | ERROR    | app.llm_runner:chat_once:149 - API Error: Error code: 400 - {'error': {'message': 'invalid JSON schema for tool provide_response, tools[1].function.parameters: jsonschema file:///home/di/params.json compilation failed: file:///home/di/params.json#/$defs/MedicalReport not found', 'type': 'invalid_request_error', 'param': 'tool provide_response, tools[1].function.parameters'}}
2026-01-22 20:27:12.043 | ERROR    | app.main:ask:101 - ToolError
2026-01-22 20:27:41.333 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:27:43.718 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:27:46.166 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:31:08.678 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:31:12.583 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:31:15.072 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:31:19.159 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:31:19.160 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:31:19.169 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:31:19.770 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:31:19.771 | INFO     | app.llm_runner:chat_once:165 - ChatCompletionMessage(content=None, role='assistant', annotations=None, executed_tools=None, function_call=None, reasoning=None, tool_calls=[ChatCompletionMessageToolCall(id='fk8m36gey', function=Function(arguments='{"action":"message","message_to_patient":"Can you tell me more about your headache? Is it localized to one side of your head or is it a general headache? Also, have you experienced any nasal congestion or discharge?"}', name='provide_response'), type='function')])
2026-01-22 20:31:19.771 | INFO     | app.llm_runner:chat_once:172 - EXECUTING TOOL: provide_response
2026-01-22 20:32:55.215 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:32:59.798 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:33:02.267 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:33:08.656 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:33:08.657 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:33:08.666 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:33:09.232 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:33:09.233 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:33:09.236 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:33:09.236 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:33:09.247 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:33:09.628 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:33:09.629 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:33:09.632 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:33:09.632 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 20:33:09.634 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:33:09.634 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 20:33:09.634 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 20:33:09.637 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:33:09.637 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:33:09.651 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:33:10.139 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:33:10.139 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:33:10.142 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:33:10.142 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:33:10.155 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:33:10.456 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:33:10.456 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:34:59.734 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:35:03.804 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:35:06.422 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:35:06.427 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:35:06.428 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:35:06.438 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:35:06.891 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:35:06.891 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:35:06.895 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:35:06.895 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:35:06.906 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:35:07.182 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:35:07.183 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:35:07.189 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:35:07.189 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 20:35:07.191 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:35:07.191 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 20:35:07.192 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 20:35:07.194 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:35:07.194 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:35:07.207 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:35:07.593 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:35:07.593 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:35:07.596 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:35:07.596 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:35:07.611 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:35:08.004 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:35:08.004 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:45:59.962 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:46:03.472 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:46:06.018 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:47:56.648 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:48:00.208 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:48:02.877 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:48:36.113 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:48:39.531 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:48:42.019 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:50:09.260 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:50:12.364 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:50:13.712 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:50:14.947 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:50:16.709 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:50:19.183 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:50:19.349 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:50:19.350 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:50:19.361 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:50:20.103 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:50:20.104 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:50:20.108 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:50:20.108 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 20:50:20.111 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:50:20.111 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 20:50:20.111 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 20:50:20.115 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:50:20.115 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:50:20.126 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:50:20.707 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:50:20.707 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:51:02.102 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:51:06.379 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:51:08.780 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:51:08.938 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:51:08.939 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:51:08.951 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:51:09.767 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:51:09.767 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:52:38.457 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:52:41.606 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:52:44.039 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:52:55.457 | INFO     | app.llm_runner:<module>:23 - INITIALIZED CLIENT
2026-01-22 20:52:59.584 | INFO     | app.llm_runner:<module>:39 - INITIALIZED RAG
2026-01-22 20:53:02.048 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 20:53:04.683 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:53:04.684 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:53:04.694 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:53:06.401 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:53:06.401 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:53:06.403 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:53:06.403 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 20:53:06.414 | INFO     | app.llm_runner:chat_once:108 - CALLED API MODE
2026-01-22 20:53:06.900 | INFO     | app.llm_runner:chat_once:161 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 20:53:06.900 | INFO     | app.llm_runner:chat_once:170 - EXECUTING TOOL: provide_response
2026-01-22 20:53:06.903 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:53:06.903 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 20:53:06.905 | INFO     | app.main:ask:33 - Endpoint ask called
2026-01-22 20:53:06.906 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 20:53:06.906 | ERROR    | app.main:ask:89 - HTTPException
2026-01-22 21:58:12.618 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 21:58:16.698 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 21:58:19.157 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 21:58:32.653 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 21:58:36.657 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 21:58:39.113 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 21:58:52.813 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 21:58:57.935 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 21:59:00.383 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 21:59:00.548 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 21:59:00.549 | ERROR    | app.main:ask:69 - 'NoneType' object has no attribute 'content_type'
2026-01-22 21:59:00.556 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 21:59:00.556 | ERROR    | app.main:ask:53 - HTTPException
2026-01-22 21:59:00.559 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 21:59:00.560 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 21:59:00.560 | ERROR    | app.main:ask:53 - HTTPException
2026-01-22 22:01:27.672 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:01:32.152 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:01:34.599 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:01:34.764 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:01:34.764 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 22:01:34.776 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:01:35.335 | INFO     | app.llm_runner:chat_once:114 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 22:01:35.335 | INFO     | app.llm_runner:_execute_tool_call:206 - EXECUTING TOOL: provide_response
2026-01-22 22:01:35.339 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:01:35.339 | ERROR    | app.main:ask:55 - HTTPException
2026-01-22 22:01:35.343 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:01:35.344 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 22:01:35.344 | ERROR    | app.main:ask:55 - HTTPException
2026-01-22 22:01:53.988 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:01:57.649 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:02:00.062 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:02:00.226 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:02:00.227 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 22:02:00.239 | INFO     | app.llm_runner:_run_local_mode:141 - CALLED LOCAL MODE
2026-01-22 22:02:06.600 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:02:06.601 | ERROR    | app.main:ask:55 - HTTPException
2026-01-22 22:02:06.604 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:02:06.605 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 22:02:06.605 | ERROR    | app.main:ask:55 - HTTPException
2026-01-22 22:12:18.940 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:12:23.025 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:12:25.424 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:19:20.362 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:19:20.362 | INFO     | app.main:_process_uploaded_image:79 - Processing image: gardlo.jpeg
2026-01-22 22:19:20.362 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 22:19:20.371 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:19:20.371 | INFO     | app.llm_runner:_build_api_messages:188 - ATTACHING IMAGE TO LLM REQUEST
2026-01-22 22:19:21.026 | WARNING  | app.llm_runner:chat_once:108 - Model didn't use tool, falling back to text content
2026-01-22 22:30:29.796 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:30:33.786 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:30:37.025 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:31:16.363 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:31:20.092 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:31:22.652 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:31:37.705 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:31:41.159 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:31:43.964 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:32:50.745 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:32:54.008 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:32:56.769 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:37:07.146 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:37:11.610 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:37:14.101 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:37:33.138 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:37:37.103 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:37:39.500 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:37:39.508 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:37:39.508 | INFO     | app.main:_process_uploaded_image:79 - Processing image: test_skin.png
2026-01-22 22:37:39.509 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 22:37:39.520 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:37:39.520 | INFO     | app.llm_runner:_build_api_messages:189 - ATTACHING IMAGE TO LLM REQUEST
2026-01-22 22:37:40.138 | ERROR    | app.llm_runner:chat_once:102 - API Error: Error code: 400 - {'error': {'message': 'invalid image data', 'type': 'invalid_request_error'}}
2026-01-22 22:37:40.138 | ERROR    | app.main:ask:67 - ToolError
2026-01-22 22:40:00.867 | INFO     | app.llm_runner:<module>:29 - INITIALIZED CLIENT
2026-01-22 22:40:05.384 | INFO     | app.llm_runner:<module>:41 - INITIALIZED RAG
2026-01-22 22:40:07.789 | INFO     | app.llm_runner:<module>:49 - LOADED RAG CSV
2026-01-22 22:40:07.798 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:40:07.798 | INFO     | app.main:_process_uploaded_image:79 - Processing image: test_skin.png
2026-01-22 22:40:07.799 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 22:40:07.809 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:40:07.809 | INFO     | app.llm_runner:_build_api_messages:189 - ATTACHING IMAGE TO LLM REQUEST
2026-01-22 22:40:08.363 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 22:40:08.363 | INFO     | app.llm_runner:_execute_tool_call:218 - EXECUTING TOOL: provide_response
2026-01-22 22:40:08.367 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:40:08.367 | WARNING  | app.llm_runner:run_with_retry_chat:56 - CALLED run_with_retry_chat 1 time
2026-01-22 22:40:08.377 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:40:08.943 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 22:40:08.944 | INFO     | app.llm_runner:_execute_tool_call:218 - EXECUTING TOOL: provide_response
2026-01-22 22:56:59.959 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-22 22:57:03.959 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-22 22:57:06.476 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 22:57:06.642 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:57:06.643 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 22:57:06.656 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:57:07.456 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 22:57:07.456 | INFO     | app.llm_runner:_execute_tool_call:218 - EXECUTING TOOL: provide_response
2026-01-22 22:57:07.460 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:57:07.460 | ERROR    | app.main:ask:53 - HTTPException
2026-01-22 22:57:07.463 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:57:07.464 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 22:57:07.464 | ERROR    | app.main:ask:53 - HTTPException
2026-01-22 22:58:53.184 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-22 22:58:55.129 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-22 22:58:57.832 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 22:58:57.841 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:58:57.841 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 22:58:57.853 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:58:58.266 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 22:58:58.267 | INFO     | app.llm_runner:_execute_tool_call:218 - EXECUTING TOOL: provide_response
2026-01-22 22:58:58.276 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 22:58:58.277 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 22:58:58.354 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 22:58:58.638 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 22:58:58.638 | INFO     | app.llm_runner:_execute_tool_call:218 - EXECUTING TOOL: provide_response
2026-01-22 23:04:58.815 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-22 23:05:02.066 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-22 23:05:04.489 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-22 23:05:06.824 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 23:05:06.825 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 23:05:06.837 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 23:05:07.815 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 23:05:07.815 | INFO     | app.llm_runner:_execute_tool_call:218 - EXECUTING TOOL: provide_response
2026-01-22 23:05:07.818 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 23:05:07.818 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-22 23:05:07.830 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-22 23:05:08.312 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-22 23:05:08.313 | INFO     | app.llm_runner:_execute_tool_call:218 - EXECUTING TOOL: provide_response
2026-01-22 23:05:08.316 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 23:05:08.317 | ERROR    | app.main:ask:53 - HTTPException
2026-01-22 23:05:08.319 | INFO     | app.main:ask:34 - Endpoint ask called
2026-01-22 23:05:08.320 | ERROR    | app.guardrails:guard_input:27 - PATH_TRAVERSAL_PATTERN DETECTED
2026-01-22 23:05:08.320 | ERROR    | app.main:ask:53 - HTTPException
2026-01-23 13:36:38.697 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 13:36:42.264 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 13:36:46.617 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 13:37:33.784 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:37:33.785 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:37:33.813 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:37:35.085 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:37:35.085 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:39:38.784 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:39:38.784 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:39:38.817 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:39:39.584 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:39:39.584 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:43:00.124 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:43:00.125 | INFO     | app.main:_process_uploaded_images:87 - Processing image: gardlo.jpeg
2026-01-23 13:43:00.125 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:43:00.149 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:43:00.149 | INFO     | app.llm_runner:_build_api_messages:189 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 13:43:01.007 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:43:01.008 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:43:52.164 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:43:52.164 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:43:52.188 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:43:53.230 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:43:53.230 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:46:07.205 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:46:07.206 | INFO     | app.main:_process_uploaded_images:87 - Processing image: arm.jpeg
2026-01-23 13:46:07.206 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:46:07.230 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:46:07.230 | INFO     | app.llm_runner:_build_api_messages:189 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 13:46:07.785 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:46:07.786 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:46:50.091 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:46:50.092 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:46:50.115 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:46:50.798 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:46:50.798 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:48:05.524 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:48:05.524 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:48:05.547 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:48:06.262 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:48:06.262 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:48:59.325 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:48:59.325 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:48:59.347 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:49:00.228 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:49:00.229 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:49:51.443 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:49:51.443 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:49:51.470 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:49:51.926 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:49:51.926 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:51:10.533 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:51:10.533 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:51:10.556 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:51:12.227 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:51:12.227 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:51:24.717 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:51:24.717 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:51:24.740 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:51:26.147 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:51:26.148 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:51:33.069 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:51:33.069 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:51:33.089 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:51:33.932 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:51:33.932 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:52:06.470 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:52:06.470 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:52:06.490 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:52:07.114 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:52:07.114 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 13:52:35.813 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 13:52:35.813 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 13:52:35.845 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 13:52:36.806 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 13:52:36.807 | INFO     | app.llm_runner:_execute_tool_call:219 - EXECUTING TOOL: provide_response
2026-01-23 14:01:53.503 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:01:57.141 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:02:01.819 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:09:22.132 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:09:26.168 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:09:30.205 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:09:42.836 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:09:42.837 | INFO     | app.main:_process_uploaded_images:87 - Processing image: eduroam_8081.txt
2026-01-23 14:09:42.838 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:09:42.838 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:09:42.838 | INFO     | app.llm_runner:_build_api_messages:191 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 14:09:43.179 | ERROR    | app.llm_runner:chat_once:102 - API Error: Error code: 400 - {'error': {'message': 'invalid image data', 'type': 'invalid_request_error'}}
2026-01-23 14:09:43.179 | ERROR    | app.main:ask:73 - ToolError
2026-01-23 14:09:52.899 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:09:52.899 | INFO     | app.main:_process_uploaded_images:87 - Processing image: gardlo.jpeg
2026-01-23 14:09:52.900 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:09:52.900 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:09:52.900 | INFO     | app.llm_runner:_build_api_messages:191 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 14:09:53.427 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:09:53.427 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
2026-01-23 14:10:24.903 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:10:24.903 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:10:24.904 | INFO     | app.llm_runner:_get_rag_context:133 - CALLED RAG QUERY
2026-01-23 14:10:24.926 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:10:25.560 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:10:25.560 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
2026-01-23 14:11:01.099 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:11:01.099 | INFO     | app.main:_process_uploaded_images:87 - Processing image: gardlo.jpeg
2026-01-23 14:11:01.100 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:11:01.100 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:11:01.100 | INFO     | app.llm_runner:_build_api_messages:191 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 14:11:02.731 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:11:02.732 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
2026-01-23 14:11:12.754 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:11:12.754 | INFO     | app.main:_process_uploaded_images:87 - Processing image: gardlo.jpeg
2026-01-23 14:11:12.755 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:11:12.755 | INFO     | app.llm_runner:_get_rag_context:133 - CALLED RAG QUERY
2026-01-23 14:11:12.776 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:11:12.777 | INFO     | app.llm_runner:_build_api_messages:191 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 14:11:13.586 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:11:13.586 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
2026-01-23 14:12:57.104 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:12:57.105 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:12:57.105 | INFO     | app.llm_runner:_get_rag_context:133 - CALLED RAG QUERY
2026-01-23 14:12:57.124 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:12:57.547 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:12:57.547 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
2026-01-23 14:14:49.645 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:14:49.645 | INFO     | app.main:_process_uploaded_images:87 - Processing image: gardlo.jpeg
2026-01-23 14:14:49.645 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:14:49.645 | INFO     | app.llm_runner:_get_rag_context:133 - CALLED RAG QUERY
2026-01-23 14:14:49.666 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:14:49.666 | INFO     | app.llm_runner:_build_api_messages:191 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 14:14:50.675 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:14:50.676 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
2026-01-23 14:17:08.854 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:17:11.810 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:17:15.770 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:17:43.067 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:17:46.703 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:17:50.883 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:17:58.384 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:18:00.523 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:18:05.501 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:19:59.192 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:20:02.589 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:20:06.572 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:22:45.207 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:22:49.810 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:22:53.551 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:23:27.984 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:23:30.907 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:23:34.718 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:24:01.623 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:24:05.387 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:24:09.113 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:24:22.560 | INFO     | app.llm_runner:<module>:30 - INITIALIZED CLIENT
2026-01-23 14:24:24.941 | INFO     | app.llm_runner:<module>:42 - INITIALIZED RAG
2026-01-23 14:24:28.820 | INFO     | app.llm_runner:<module>:50 - LOADED RAG CSV
2026-01-23 14:24:54.268 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:24:54.269 | INFO     | app.main:_process_uploaded_images:87 - Processing image: gardlo.jpeg
2026-01-23 14:24:54.270 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:24:54.270 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:24:54.271 | INFO     | app.llm_runner:_build_api_messages:191 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 14:24:55.477 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:24:55.477 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
2026-01-23 14:25:13.107 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:25:13.108 | INFO     | app.main:_process_uploaded_images:87 - Processing image: eduroam_8081.txt
2026-01-23 14:25:13.108 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:25:13.108 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:25:13.108 | INFO     | app.llm_runner:_build_api_messages:191 - ATTACHING IMAGES TO LLM REQUEST
2026-01-23 14:25:13.375 | ERROR    | app.llm_runner:chat_once:102 - API Error: Error code: 400 - {'error': {'message': 'invalid image data', 'type': 'invalid_request_error'}}
2026-01-23 14:25:13.375 | ERROR    | app.main:ask:73 - ToolError
2026-01-23 14:45:18.825 | INFO     | app.main:ask:42 - Endpoint ask called
2026-01-23 14:45:18.825 | WARNING  | app.llm_runner:run_with_retry_chat:57 - CALLED run_with_retry_chat 1 time
2026-01-23 14:45:18.825 | INFO     | app.llm_runner:_get_rag_context:133 - CALLED RAG QUERY
2026-01-23 14:45:18.837 | INFO     | app.llm_runner:chat_once:81 - CALLED API MODE
2026-01-23 14:45:19.861 | INFO     | app.llm_runner:chat_once:115 - MODEL REQUESTED 1 TOOL(S)
2026-01-23 14:45:19.862 | INFO     | app.llm_runner:_execute_tool_call:221 - EXECUTING TOOL: provide_response
